<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lead Author: Guan Xin   Collaborators: Ng Jing Ting and Fadhil Peer Mohamed   Corresponding Author: Dr.&nbsp;Linda Sellou">

<title>Theme 0: How do we model the Earth?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Chapter0_files/libs/clipboard/clipboard.min.js"></script>
<script src="Chapter0_files/libs/quarto-html/quarto.js"></script>
<script src="Chapter0_files/libs/quarto-html/popper.min.js"></script>
<script src="Chapter0_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Chapter0_files/libs/quarto-html/anchor.min.js"></script>
<link href="Chapter0_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Chapter0_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Chapter0_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Chapter0_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Chapter0_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#welcome-back" id="toc-welcome-back" class="nav-link active" data-scroll-target="#welcome-back">1 | WELCOME BACK</a></li>
  <li><a href="#how-to-python" id="toc-how-to-python" class="nav-link" data-scroll-target="#how-to-python">2 | HOW TO PYTHON?</a>
  <ul class="collapse">
  <li><a href="#how-to-store-data-and-make-objects" id="toc-how-to-store-data-and-make-objects" class="nav-link" data-scroll-target="#how-to-store-data-and-make-objects">2.1 HOW TO STORE DATA AND MAKE OBJECTS?</a></li>
  <li><a href="#how-to-perform-actions-in-python" id="toc-how-to-perform-actions-in-python" class="nav-link" data-scroll-target="#how-to-perform-actions-in-python">2.2 HOW TO PERFORM “ACTIONS” IN PYTHON?</a></li>
  <li><a href="#how-to-craft-plans-of-actions-in-python" id="toc-how-to-craft-plans-of-actions-in-python" class="nav-link" data-scroll-target="#how-to-craft-plans-of-actions-in-python">2.3 HOW TO CRAFT PLANS OF “ACTIONS” IN PYTHON?</a></li>
  <li><a href="#how-to-save-and-search-our-results" id="toc-how-to-save-and-search-our-results" class="nav-link" data-scroll-target="#how-to-save-and-search-our-results">2.4 HOW TO SAVE AND SEARCH OUR RESULTS?</a></li>
  <li><a href="#how-to-present-our-results" id="toc-how-to-present-our-results" class="nav-link" data-scroll-target="#how-to-present-our-results">2.5 HOW TO PRESENT OUR RESULTS?</a></li>
  </ul></li>
  <li><a href="#practice-makes-perfect" id="toc-practice-makes-perfect" class="nav-link" data-scroll-target="#practice-makes-perfect">3 | PRACTICE MAKES PERFECT!</a>
  <ul class="collapse">
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1">3.1 Exercise 1</a></li>
  <li><a href="#exercise-2" id="toc-exercise-2" class="nav-link" data-scroll-target="#exercise-2">3.2 Exercise 2</a></li>
  <li><a href="#exercise-3" id="toc-exercise-3" class="nav-link" data-scroll-target="#exercise-3">3.3 Exercise 3</a></li>
  <li><a href="#exercise-4" id="toc-exercise-4" class="nav-link" data-scroll-target="#exercise-4">3.4 Exercise 4</a></li>
  <li><a href="#exercise-5" id="toc-exercise-5" class="nav-link" data-scroll-target="#exercise-5">3.5 Exercise 5</a></li>
  <li><a href="#exercise-6" id="toc-exercise-6" class="nav-link" data-scroll-target="#exercise-6">3.6 Exercise 6</a></li>
  <li><a href="#exercise-7" id="toc-exercise-7" class="nav-link" data-scroll-target="#exercise-7">3.7 Exercise 7</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Theme 0: How do we model the Earth?</h1>
<p class="subtitle lead">A Brief Revision of Python Requirements</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Lead Author: Guan Xin <br> Collaborators: Ng Jing Ting and Fadhil Peer Mohamed <br> Corresponding Author: Dr.&nbsp;Linda Sellou </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="welcome-back" class="level2">
<h2 class="anchored" data-anchor-id="welcome-back">1 | WELCOME BACK</h2>
<p style="text-align: justify;">
Hello and welcome back to the new academic year. We have a lot in store for you this semester for SP3275, thus we would like to give you a quick python revision to prepare you for the activities up ahead. In weeks 2-6, you will need to simulate systems on earth using Python, and this revision is geared to help you with this task.
</p>
<p style="text-align: justify;">
Disclaimer: This intro is here to help you, not restrict you. If you enjoy working in another way, or if you find this intro not comprehensive enough, feel free to do what you prefer. Additionally, if you have any suggestions on how to improve this guide, please let us know! Thank you :3
</p>
</section>
<section id="how-to-python" class="level2">
<h2 class="anchored" data-anchor-id="how-to-python">2 | HOW TO PYTHON?</h2>
<section id="how-to-store-data-and-make-objects" class="level3">
<h3 class="anchored" data-anchor-id="how-to-store-data-and-make-objects">2.1 HOW TO STORE DATA AND MAKE OBJECTS?</h3>
<p style="text-align: justify;">
Before we can model interactions between objects, we first must be able to “create” these objects and store other information. We can do this by making variables. Python allows us to create variables using an equals sign “=”.
</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
There are a few types of variable we can make, but for this module, we will be focused on integers, floats (numbers with decimal points), lists, numpy arrays, and strings (a bunch of characters/words).
</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> <span class="dv">3</span>       <span class="co">#creating an integer variable called "a" with value of 3</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> <span class="fl">3.0</span>     <span class="co">#creating a float variable called "b" with value of 3.0</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> [a,b]   <span class="co">#creating a list variable called "c" with the variables a and b in the list</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> <span class="st">"hi"</span>    <span class="co">#creating a string variable called "d" with the string of characters "hi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Numpy arrays are a bit more special, and are usually more convenient for performing math operations. We can easily create numpy arrays by importing the external numpy library, as if it were an external mod or DLC.
</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> numpy <span class="im">as</span> np  <span class="co">#importing the external library</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    e <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>]     <span class="co">#creating a python list variable called "e"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> np.array(e)     <span class="co">#turning e into a numpy array and saving it as a variable called "f"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    g <span class="op">=</span> (f<span class="op">*</span><span class="dv">3</span>).tolist()  <span class="co">#multiplying each element in f by 3, then converting the result into a python list and saving it as a variable called "g"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Math operations on lists work on the list itself rather than values inside the list, thus for this syllabus, use numpy arrays instead when doing math. However, numpy arrays have some limitations, for example, all elements inside a numpy array must be of the same type (eg. all lists of length 3, or all floats).
</p>
<p style="text-align: justify;">
For more information regarding variables, please refer to <a href="https://sps.nus.edu.sg/sp2273/basics-good.html#section-type">SP2273 notes online</a>
</p>
</section>
<section id="how-to-perform-actions-in-python" class="level3">
<h3 class="anchored" data-anchor-id="how-to-perform-actions-in-python">2.2 HOW TO PERFORM “ACTIONS” IN PYTHON?</h3>
<p style="text-align: justify;">
One of the simplest ways to model an interaction is by describing it using a mathematical operation. As shown in the previous example, we can perform math operations in python, using the following symbols: “+” for plus, “-” for minus, “/” for divide, “*” for multiply, and “**” for power. Unlike math in writing, python has limited intelligence and will require you to explicitly type out all the relevant math operations: a*b is “a” multiplied by “b”, however, ab is treated as a new variable “ab” instead.
</p>
<p style="text-align: justify;">
Other math variables like pi and e can be obtained from the numpy external library (np.pi and np.exp() respectively). For example:
</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    Initial_Sheep <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    Growth_Rate <span class="op">=</span> <span class="dv">2</span><span class="op">*</span>np.pi</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    Time <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    Sheep_Now <span class="op">=</span> Initial_Sheep<span class="op">*</span>np.exp(Growth_Rate<span class="op">*</span>Time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Notice that np.exp() works by taking whatever is in the brackets immediately after and making e to the power of that number. In this case, np.exp() works like a math function, eg. f(x) or g(y). Functions always end with a () after the function name, even if the function itself doesn’t require inputs. Python has many functions, and one of the more important ones for us is the print() function. The print() function makes prints out the variable for you to see in the output:
</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"hello world"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Besides pre-existing functions, you can make your own functions, if you find yourself doing the same thing over and over again and would like some personalised “shortcuts”:
</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> makingfunction(argument1,argument2):  <span class="co">#creates the function with a name and expected inputs</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">#code that you wish to call can be written here. All variables made here are temporary, and disappears once the function "ends"</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>        tempvariable <span class="op">=</span> (argument1 <span class="op">+</span> argument2)<span class="op">/</span>(argument1 <span class="op">*</span> argument2)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        output <span class="op">=</span> tempvariable<span class="op">**</span><span class="dv">2</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> output    <span class="co">#ends the function, and can generate a function output to the "outside world"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Besides just making coding more convenient, functions can also help your code be more readable, and can help you neatly segment your code for when you comb your code for errors. For more information about functions and function arguments, please refer to the relevant documentation online, or you can also refer to the <a href="https://sps.nus.edu.sg/sp2273/functions-need.html">SP2273 notes online</a> for reference
</p>
</section>
<section id="how-to-craft-plans-of-actions-in-python" class="level3">
<h3 class="anchored" data-anchor-id="how-to-craft-plans-of-actions-in-python">2.3 HOW TO CRAFT PLANS OF “ACTIONS” IN PYTHON?</h3>
<p style="text-align: justify;">
Besides using custom functions to plan out a series of actions, we can also use loops to call a series of actions repetitively. For SP3275, we are going to use the for loop and while loop. The for loop looks like this:
</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> temp <span class="kw">in</span> iterableobejct:</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(temp)         <span class="co">#or really anything you want to do, you don't even have to use the variable!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
where you create a variable (named “temp” in this case), and you have an iterable object, like a list. The variable will first be equal to the first object of the iterable object, and perform all the code within the for loop. It will then go on to be equal to the next object in the iterable object, and perform everything in the for loop once more. And so on and on. This helps us to give repetitive commands without having to type everything out!
</p>
<p style="text-align: justify;">
While loops on the other hand do not require an iterable object, however, they do need a run condition, otherwise the while loop will go on forever and won’t know to stop.
</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> x <span class="op">!=</span> <span class="dv">3</span>:  <span class="co">#Run condition being that x is not equal to 3</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> x <span class="op">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
The computer will always try and run the code within the while loop again and again before it proceeds to anything after the while loop. However, during each iteration, the computer will first check the status of the run condition. If the run condition is true, then the iteration is successfully run, and once completed the computer will attempt to repeat the loop again. However, if the run condition is false, then the iteration stops immediately, and we exit the while loop.
</p>
<p style="text-align: justify;">
For more information about loops, please refer to the <a href="https://sps.nus.edu.sg/sp2273/loops-need.html">SP2273 notes online</a>
</p>
<p style="text-align: justify;">
While the computer loops for us, we might want certain additional commands to run only when certain conditions are met. The if-else clause is very helpful for these kinds of situations, but it only works on True/False conditions. Typically, we use a double equals sign “==”, or larger than “&gt;” and smaller than “&lt;” to describe such conditions.
</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    codeword <span class="op">=</span> <span class="st">""</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    hint <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> hint:</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span>:            <span class="co">#if (condition) is met, the indented line will happen.</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>            codeword <span class="op">=</span> codeword <span class="op">+</span> <span class="st">"ba-"</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> i <span class="op">==</span> <span class="dv">1</span>:          <span class="co">#otherwise, if (alternate condition) is met, the indented line will happen.</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>            codeword <span class="op">=</span> codeword <span class="op">+</span> <span class="st">"ba, "</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> i <span class="op">==</span> <span class="dv">2</span>:          <span class="co">#there can be as many elifs as you like. The code will run in order of writing.</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>            codeword <span class="op">=</span> codeword <span class="op">+</span> <span class="st">"na-"</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:                 <span class="co">#otherwise if no other conditions were met, the indented line will happen.</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>            codeword <span class="op">=</span> codeword <span class="op">+</span> <span class="st">"na!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
For more information about if-else statements, please refer to the <a href="https://sps.nus.edu.sg/sp2273/basics-need.html#use-if-to-make-decisions">SP2273 notes online</a>
</p>
</section>
<section id="how-to-save-and-search-our-results" class="level3">
<h3 class="anchored" data-anchor-id="how-to-save-and-search-our-results">2.4 HOW TO SAVE AND SEARCH OUR RESULTS?</h3>
<p style="text-align: justify;">
Now that we have a method to make variables and perform calculations, we want a convenient way to store data without manually creating a new variable for each new piece of data. One of the simpler methods is to simply add to a list with the method .append(). Methods are like functions that are unique to a specific type of variable (eg. lists), and are used by calling the method after a full stop after the variable.
</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    data_storage <span class="op">=</span> []</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>]:</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        new_data <span class="op">=</span> np.exp(i)            <span class="co">#calculating new data</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        data_storage.append(new_data)   <span class="co">#saving new data into the data_storage list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
If instead we want to replace pre-existing data inside a list, we need to find the <strong>position in the list</strong> we want to replace, and set that equal to the new value we want.
</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>    old_data <span class="op">=</span> [<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">3</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    new_value <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    old_data[<span class="dv">2</span>] <span class="op">=</span> new_value        <span class="co">#reminder that the index of 2 is the (2+1) position</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Notice the bracket after old_data in the last line? This is to perform list splicing, where we interact with data at certain positions in a list. Numpy arrays also have a similar function, with minor syntax differences.
</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#The same for python lists and numpy arrays</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    A <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>]</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#A[0] == 1             #indexing from the front</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#A[-1] == 5            #indexing from the back</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#A[0:3] == [1,2,3]     #indexing the [a,b) subset (ie. including index a up until and excluding index b)</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#A[:2] == [1,2]        #indexing the [0,c) subset (ie. start of the list up until and excluding index c)</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#A[-3:] == [3,4,5]     #indexing the [d,-1] subset (ie. including index d up until the end of the list)</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Lists within lists for python lists</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    B <span class="op">=</span> [[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>],[<span class="dv">5</span>,[<span class="dv">6</span>,<span class="dv">7</span>]]]</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#B[0][1] == 2          #B[0] returns the 1st index of B, then B[0][1] returns the 2nd index of B[0] </span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#B[2][1][0] == 6       #ie. ((B[2])[1])[0] == ([5,[6,7]][1])[0] == [6,7][0] == 6</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Arrays within arrays for numpy arrays</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    C <span class="op">=</span> np.array([[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>],[<span class="dv">5</span>,<span class="dv">6</span>]])</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">#C[0,1] == 2</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Array masking for numpy arrays</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    D <span class="op">=</span> np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>])</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#(D &gt; 3) == np.array([False, False, False, True, True])</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">#D[D &gt; 3] == [4,5]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Beyond just splicing data, there are many other methods to searching data within the list. For example, np.min() and np.max() returns the min and max of the values of the array respectively, whereas np.argmin() and np.argmax() returns the index of the min and max values of the array respectively.
</p>
<p style="text-align: justify;">
For more information about list splicing, please refer to online <a href="https://python-course.eu/python-tutorial/list-manipulation.php">python list manipulation</a>, <a href="https://www.freecodecamp.org/news/python-find-in-list-how-to-find-the-index-of-an-item-or-element-in-a-list/">python list search</a>, <a href="https://numpy.org/doc/stable/reference/routines.array-manipulation.html">numpy array manipulation</a>, and <a href="https://numpy.org/doc/stable/reference/routines.sort.html">numpy array search</a> guides.
</p>
</section>
<section id="how-to-present-our-results" class="level3">
<h3 class="anchored" data-anchor-id="how-to-present-our-results">2.5 HOW TO PRESENT OUR RESULTS?</h3>
<p style="text-align: justify;">
Now that we have a way to perform calculations and to save our data, we want a nice graphical way to present the data. Fortunately, there are many graphical external libraries to make life easier. For simplicity, we will be using the matplotlib.pyplot package, but feel free to use others that you might prefer.
</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    x_values <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">100</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    y_values <span class="op">=</span> np.sin(x_values)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#making a scatter plot</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    plt.scatter(x_values,y_values)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#making a line plot</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    plt.plot(x_values,y_values)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
For more information on how to make graphs, as well as how to fine-tune and beautify your graphs, please view the <a href="https://matplotlib.org/3.5.3/api/_as_gen/matplotlib.pyplot.html">matplotlib documentation online</a> or the <a href="https://sps.nus.edu.sg/sp2273/plotting-need.html">SP2273 notes online</a>
</p>
</section>
</section>
<section id="practice-makes-perfect" class="level2">
<h2 class="anchored" data-anchor-id="practice-makes-perfect">3 | PRACTICE MAKES PERFECT!</h2>
<p style="text-align: justify;">
The best way to get proficient with coding is to do it yourself! The following optional exercises are to help you practice and will not be graded. Each exercise comes along with a possible solution for reference if you are truly stuck, but <strong>they are not model answers</strong>. At the end of the day, the best code is the one you know best!
</p>
<section id="exercise-1" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1">3.1 Exercise 1</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Problem</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Guiding Hints:</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">A Possible Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="a-dripping-bucket" class="level4">
<h4 class="anchored" data-anchor-id="a-dripping-bucket">A Dripping Bucket</h4>
<p style="text-align: justify;">
You have a 1 litre bucket that is full with water. There is a hole at the bottom of the bucket, and water drips out at 1 ml (1 drop) per second. Using python, make a “simulation” of the water draining from the bucket. Plot a scatterplot of the volume of water in the bucket for every second until the bucket is empty.
</p>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p style="text-align: center;">
<img src="Chapter0Media/Simulation_Loop.png" width="70%">
</p>
<ol type="1">
<li><p style="text-align: justify;">
Make a variable for the 1 litre volume of water in the bucket
</p></li>
<li><p style="text-align: justify;">
Make a variable for all the data you want to collect
</p></li>
<li><p style="text-align: justify;">
Make a loop (a for loop is easier) that will last for the duration of the entire event. Let every iteration of the loop be one second of the simulation.
</p></li>
<li><p style="text-align: justify;">
Within the loop, code out the change to the volume of the water in the bucket that happens <strong>within that second</strong>.
</p></li>
<li><p style="text-align: justify;">
<strong>Save your data into the variable(s) in part (2) before you proceed</strong>
</p></li>
<li><p style="text-align: justify;">
Once you have run through your loop and obtained all your data, plot the data you have obtained
</p></li>
</ol>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  Bucket_Initial <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  Bucket_Data <span class="op">=</span> [Bucket_Initial]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>      Bucket_Change <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>      Bucket_Data.append(Bucket_Data[i]<span class="op">-</span>Bucket_Change)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  plt.scatter(np.linspace(<span class="dv">0</span>,<span class="bu">len</span>(Bucket_Data),<span class="bu">len</span>(Bucket_Data)),Bucket_Data)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  plt.title(<span class="st">"Bucket Volume against Time"</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  plt.ylabel(<span class="st">"Bucket Volume / cm"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  plt.xlabel(<span class="st">"Time / s"</span>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-2" class="level3">
<h3 class="anchored" data-anchor-id="exercise-2">3.2 Exercise 2</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Problem</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Guiding Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">A Possible Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<section id="an-accelerating-car" class="level4">
<h4 class="anchored" data-anchor-id="an-accelerating-car">An Accelerating Car</h4>
<p style="text-align: justify;">
A car begins at rest and starts to accelerate forwards. For the duration of an hour, it maintains a constant acceleration of 0.1 ms<sup>-2</sup> (ie. its velocity or “speed” increases by 0.1 ms<sup>-1</sup> every second). Using python, make a simulation of the car travelling and plot a <b>lineplot</b> of its displacement (distance travelled) against time. You are allowed to approximate changes in velocity and displacement as step-wise events in lieu of continuous events.
</p>
</section>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<ol type="1">
<li><p style="text-align: justify;">
Example 2 is very similar to Example 1, except that the change that occurs every second has an additional layer. While the rate of water loss is constant throughout in Example 1, in Example 2 the velocity changes over time.
</p></li>
<li><p style="text-align: justify;">
You are allowed to assume that within each second, the displacement, velocity, and acceleration are approximately constant. These parameters only change from second to second, in the “drop-like” manner of Example 1.
</p></li>
</ol>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  Car <span class="op">=</span> [[<span class="dv">0</span>,<span class="dv">0</span>]]</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3600</span>):</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>      dV <span class="op">=</span> <span class="fl">0.1</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>      dS <span class="op">=</span> Car[<span class="op">-</span><span class="dv">1</span>][<span class="dv">1</span>]<span class="op">+</span>dV</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>      Car.append([Car[<span class="op">-</span><span class="dv">1</span>][<span class="dv">0</span>]<span class="op">+</span>dS, Car[<span class="op">-</span><span class="dv">1</span>][<span class="dv">1</span>]<span class="op">+</span>dV])</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  Car <span class="op">=</span> np.array(Car)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  plt.scatter(np.linspace(<span class="dv">0</span>,<span class="bu">len</span>(Car),<span class="bu">len</span>(Car)),Car[:,<span class="dv">0</span>])</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  plt.title(<span class="st">"Car Displacement against Time"</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  plt.ylabel(<span class="st">"Car Displacement / m"</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  plt.xlabel(<span class="st">"Time / s"</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-3" class="level3">
<h3 class="anchored" data-anchor-id="exercise-3">3.3 Exercise 3</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">Problem</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">Guiding Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false" href="">A Possible Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<section id="a-faulty-car" class="level4">
<h4 class="anchored" data-anchor-id="a-faulty-car">A Faulty Car</h4>
<p style="text-align: justify;">
A car begins at rest and starts to accelerate forwards. For the duration of an hour, it tries maintains a constant acceleration of 0.1 ms<sup>-2</sup>. However, every second, there is a 10% chance that the car will not experience acceleration for that second. Using python, make a “simulation” of the car travelling and plot a <strong>lineplot</strong> of its displacement (distance travelled) against time. Additionally, plot a <strong>scatterplot</strong> of the displacement values during the seconds where the car was faulty (when acceleration did not occur).
</p>
</section>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<ol type="1">
<li><p style="text-align: justify;">
Example 3 is very similar to Example 2, however, the acceleration is affected by random chance. Consider using <a href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.random.html">np.random.random()</a> or <a href="https://www.w3schools.com/python/ref_random_random.asp">random.random()</a> to help with simulating randomness. Please refer to <a href="https://sps.nus.edu.sg/sp2273/random-numbers-need.html">SP2273 notes online</a> for more information.
</p></li>
<li><p style="text-align: justify;">
Reminder, Example 3 has an additional plotting task as well. The relevant information needs to be accessible.
</p></li>
</ol>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  Car <span class="op">=</span> [[<span class="dv">0</span>,<span class="dv">0</span>]]</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  Faults <span class="op">=</span> []</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3600</span>):</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> np.random.random() <span class="op">&gt;</span> <span class="fl">0.1</span>:</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>          dV <span class="op">=</span> <span class="fl">0.1</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span>:</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>          dV <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>          Faults.append(i)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>      dS <span class="op">=</span> Car[<span class="op">-</span><span class="dv">1</span>][<span class="dv">1</span>]<span class="op">+</span>dV</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>      Car.append([Car[<span class="op">-</span><span class="dv">1</span>][<span class="dv">0</span>]<span class="op">+</span>dS, Car[<span class="op">-</span><span class="dv">1</span>][<span class="dv">1</span>]<span class="op">+</span>dV])</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  Car <span class="op">=</span> np.array(Car)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  plt.plot(np.linspace(<span class="dv">0</span>,<span class="bu">len</span>(Car),<span class="bu">len</span>(Car)),Car[:,<span class="dv">0</span>])</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  plt.title(<span class="st">"Car Displacement against Time"</span>)</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  plt.ylabel(<span class="st">"Car Displacement / m"</span>)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  plt.xlabel(<span class="st">"Time / s"</span>)</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  plt.show()</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  plt.scatter(np.linspace(<span class="dv">1</span>,<span class="bu">len</span>(Faults),<span class="bu">len</span>(Faults)),Car[Faults,<span class="dv">0</span>])</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  plt.title(<span class="st">"Car Displacement against Faults"</span>)</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  plt.ylabel(<span class="st">"Car Displacement / m"</span>)</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  plt.xlabel(<span class="st">"Faults (Chronological)"</span>)</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-4" class="level3">
<h3 class="anchored" data-anchor-id="exercise-4">3.4 Exercise 4</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true" href="">Problem</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false" href="">Guiding Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false" href="">A Possible Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<section id="matryoshka-dolls" class="level4">
<h4 class="anchored" data-anchor-id="matryoshka-dolls">Matryoshka Dolls</h4>
<p style="text-align: justify;">
Besides modelling events, sometimes we need to handle messy data. A common way people store complicated data is via lists of lists. For example:
</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>Matrix <span class="op">=</span> [[<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>],[<span class="op">-</span><span class="dv">5</span>,<span class="op">-</span><span class="dv">7</span>,<span class="op">-</span><span class="dv">13</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Using the basic python library, list manipulation, and the “Matrix” list given above, obtain:
</p>
<ol type="1">
<li><p style="text-align: justify;">
The matrix diagonal (first element from first list, second element from second list, …), expressed as a list of integers.
</p></li>
<li><p style="text-align: justify;">
The matrix transpose (a new matrix where the jth element of the ith row of the original matrix becomes the ith element of the jth row of the original matrix)
</p></li>
<li><p style="text-align: justify;">
The sum of elements for each row and column
</p></li>
</ol>
</section>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p style="text-align: justify;">
A good starting point would be to try extracting out single elements from the matrix. Then, consider finding a way to extract out all the desired single elements iteratively.
</p>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Matrix <span class="op">=</span> [[<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>],[<span class="op">-</span><span class="dv">5</span>,<span class="op">-</span><span class="dv">7</span>,<span class="op">-</span><span class="dv">13</span>]]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Question 1</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>Diag <span class="op">=</span> []</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(Matrix)):</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    Diag.append(Matrix[i][i])</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Question 2</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>rows <span class="op">=</span> <span class="bu">len</span>(Matrix)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> <span class="bu">len</span>(Matrix[<span class="dv">0</span>])</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>NewMat <span class="op">=</span> []</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(columns):</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    NewCol <span class="op">=</span> []</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(rows):</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>        NewCol.append(Matrix[j][i])</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    NewMat.append(NewCol)</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="co">#Question 3</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>row_sums<span class="op">=</span>[<span class="bu">sum</span>(i) <span class="cf">for</span> i <span class="kw">in</span> Matrix]</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>col_sums<span class="op">=</span>[<span class="bu">sum</span>(j) <span class="cf">for</span> j <span class="kw">in</span> NewMat]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-5" class="level3">
<h3 class="anchored" data-anchor-id="exercise-5">3.5 Exercise 5</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true" href="">Problem</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false" href="">Guiding Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false" href="">A Possible Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<section id="a-messy-image" class="level4">
<h4 class="anchored" data-anchor-id="a-messy-image">A Messy Image</h4>
<p style="text-align: justify;">
In the following exercise, we will be doing exercise 4 but on a larger scale. Every image is essentially a nested array of numbers representing the colour and intensity of a pixel. Intensity for each colour ranges from 0 to 255, with 0 being no colour and 255 being the highest colour intensity. The structure of the nested array is shown below:
</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>    pixel <span class="op">=</span> [red,green,blue]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    row <span class="op">=</span> [pixel,pixel,pixel,pixel,pixel]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    image <span class="op">=</span> [row,row,row,row,row]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Using the image shown:</p>
<p style="text-align: center;">
<img src="Chapter0Media/Belousov-Zhabotinsky.jpeg" width="50%">
</p>
<ol type="1">
<li><p style="text-align: justify;">
Present the original image but with all the blue intensities equal to 0. Do the same for the other colours.
</p></li>
<li><p style="text-align: justify;">
Present the original image but with each alternate row and alternate column missing.
</p></li>
<li><p style="text-align: justify;">
Present the original image but with each alternate diagonal slice turned to black instead.
</p></li>
<li><p style="text-align: justify;">
Present the original image but with all pixels with any intensity higher than 253 coloured black instead.
</p></li>
<li><p style="text-align: justify;">
Plot the distribution of intensity for each colour accross the whole image.
</p></li>
</ol>
</section>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<p style="text-align: justify;">
You can use <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html">plt.imshow()</a> to present the array as an image. To open the image from file, you can use the <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imread.html">plt.imread()</a> function. As with the previous exercise, if you are encountering trouble, consider working out your code on a small subset first:
</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>    testcase <span class="op">=</span> np.array([[[<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>],[<span class="dv">50</span>,<span class="dv">100</span>,<span class="dv">150</span>]],[[<span class="dv">0</span>,<span class="dv">255</span>,<span class="dv">150</span>],[<span class="dv">255</span>,<span class="dv">255</span>,<span class="dv">255</span>]]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  pic <span class="op">=</span> plt.imread(<span class="st">"/Users/xinguan/Belousov-Zhabotinsky.jpeg"</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Task 1</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> nocolour(colour,pic):</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>      temp <span class="op">=</span> np.copy(pic)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>      state <span class="op">=</span> <span class="va">False</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> colour <span class="op">==</span> <span class="st">"blue"</span>:</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>          state <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">elif</span> colour <span class="op">==</span> <span class="st">"green"</span>:</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>          state <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>      <span class="cf">elif</span> colour <span class="op">==</span> <span class="st">"red"</span>:</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>          state <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>      temp[:,:,state] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>      plt.title(<span class="st">"No "</span> <span class="op">+</span> colour)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>      plt.imshow(temp)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>      plt.show()</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  nocolour(<span class="st">"blue"</span>,pic)</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  nocolour(<span class="st">"green"</span>,pic)</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  nocolour(<span class="st">"red"</span>,pic)</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Task 2</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  nrows <span class="op">=</span> <span class="bu">len</span>(pic)</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>  rmask <span class="op">=</span> np.linspace(<span class="dv">0</span>,nrows<span class="op">-</span><span class="dv">1</span>,nrows)</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  rcut <span class="op">=</span> pic[rmask<span class="op">%</span><span class="dv">2</span><span class="op">==</span><span class="dv">0</span>]</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>  ncols <span class="op">=</span> <span class="bu">len</span>(pic[<span class="dv">0</span>])</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>  cmask <span class="op">=</span> np.linspace(<span class="dv">0</span>,ncols<span class="op">-</span><span class="dv">1</span>,ncols)</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>  ccut <span class="op">=</span> rcut[:,cmask<span class="op">%</span><span class="dv">2</span><span class="op">==</span><span class="dv">0</span>]</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>  plt.imshow(ccut)</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>  plt.show()</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Or alternatively,</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>  plt.imshow(pic[::<span class="dv">2</span>,::<span class="dv">2</span>])</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>  plt.show()</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Task 3</span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>  stripe <span class="op">=</span> np.copy(pic)</span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(pic)):</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(pic[<span class="dv">0</span>])):</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (i<span class="op">+</span>j)<span class="op">%</span><span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>              stripe[i,j] <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>]</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>  plt.imshow(stripe)</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>  plt.show()</span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Task 4</span></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>  bmask <span class="op">=</span> np.copy(pic)</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>      bmask[bmask[:,:,i] <span class="op">&gt;</span> <span class="dv">253</span>] <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>]</span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>  plt.imshow(bmask)</span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a>  plt.show()</span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Task 5</span></span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>  plt.hist(pic[:,:,<span class="dv">0</span>].flatten(), bins <span class="op">=</span> <span class="dv">256</span>, label<span class="op">=</span><span class="st">"red"</span>, color<span class="op">=</span><span class="st">"red"</span>, alpha <span class="op">=</span> <span class="fl">0.2</span>)</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>  plt.hist(pic[:,:,<span class="dv">1</span>].flatten(), bins <span class="op">=</span> <span class="dv">256</span>, label<span class="op">=</span><span class="st">"green"</span>, color<span class="op">=</span><span class="st">"green"</span>, alpha <span class="op">=</span> <span class="fl">0.2</span>)</span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>  plt.hist(pic[:,:,<span class="dv">2</span>].flatten(), bins <span class="op">=</span> <span class="dv">256</span>, label<span class="op">=</span><span class="st">"blue"</span>, color<span class="op">=</span><span class="st">"blue"</span>, alpha <span class="op">=</span> <span class="fl">0.2</span>)</span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a>  plt.legend()</span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a>  plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-6" class="level3">
<h3 class="anchored" data-anchor-id="exercise-6">3.6 Exercise 6</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true" href="">Problem</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false" href="">Overview</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false" href="">Sub-Task 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false" href="">Sub-Task 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-5" role="tab" aria-controls="tabset-6-5" aria-selected="false" href="">Sub-Task 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-6" role="tab" aria-controls="tabset-6-6" aria-selected="false" href="">Sub-Task 4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-7" role="tab" aria-controls="tabset-6-7" aria-selected="false" href="">Sub-Task 5</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-8" role="tab" aria-controls="tabset-6-8" aria-selected="false" href="">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-9" role="tab" aria-controls="tabset-6-9" aria-selected="false" href="">A Possible Solution</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-10-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-10" role="tab" aria-controls="tabset-6-10" aria-selected="false" href="">Part by Part Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<section id="a-series-of-events" class="level4">
<h4 class="anchored" data-anchor-id="a-series-of-events">A Series Of Events</h4>
<p style="text-align: justify;">
One important skill to have in making simulations is to be able to handle complex situations. This exercise is an example of chopping a big problem into manageable small ones. We will be creating a simple model to estimate the progress of an epidemic in a population. In this exercise, we will specify the sub-tasks required, and how to merge many sub-tasks into one large final project. Please not that this is <strong>not the only way, nor even the best way</strong> to split up a large project. Feel free to approach the problem however you like.
</p>
</section>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<section id="context" class="level4">
<h4 class="anchored" data-anchor-id="context">Context</h4>
<ol type="1">
<li><p style="text-align: justify;">
The population starts off with 1000 school children (SC), 4000 working adults (WA), and 1000 dependents (D). 1 SC, 1 WA, and 1 D start off as infected.
</p></li>
<li><p style="text-align: justify;">
Everyday, each SC on average interacts with 6 other SC, 2 WA, and 1 D. Everyday, each WA on average interacts with 6 other WA, 2 SC, and 1 D. Everyday, each D on average interacts with 3 other D, 1 SC, and 1 WA. This level of interaction is fixed.
</p></li>
<li><p style="text-align: justify;">
The probability of infection upon interaction is 15% for healthy SC, 20% for healthy WA, and 25% for healthy D. Assume that two or more sick individuals will never infect the same healthy person simultaneously. Assume that newly infected individuals can only begin infecting others the day after.
</p></li>
<li><p style="text-align: justify;">
The probability of being quarantined for being infected is 10% per day. Quarantines only happen at the end of the day, and the quarantined people exit the simulation altogether (however, you should track the number of people quarantined).
</p></li>
<li><p style="text-align: justify;">
The probability of dying from infection is 2% for sick SC, 3% for sick WA, and 10% for sick D. Deaths only happen at the end of the day, and the dead people exit the simulation altogether (however, you should track the number of deaths).
</p></li>
<li><p style="text-align: justify;">
The probability of recovery from infection is 5% for sick SC, 2.5% for sick WA, and 0% for sick D. Recoveries only happen at the end of the day, and the recovered people rejoin the healthy pool of people (they gain no immunity).
</p></li>
<li><p style="text-align: justify;">
The order of events are as such: Day Starts -&gt; Interaction -&gt; Infection -&gt; Quarantine -&gt; Death -&gt; Recovery
</p></li>
</ol>
</section>
<section id="overall-task" class="level4">
<h4 class="anchored" data-anchor-id="overall-task">Overall Task</h4>
<p style="text-align: justify;">
Each simulation should last 1000 days. Track the population of the healthy, infected, quarantined, and dead population for each age group (SC, WA, or D). Run a total of 100 simulations and compare the different results. Present the results in a clear and meaningful way (up to your discretion).
</p>
</section>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<section id="pre-simulation-preparation" class="level4">
<h4 class="anchored" data-anchor-id="pre-simulation-preparation">Pre-simulation Preparation</h4>
<ol type="1">
<li><p style="text-align: justify;">
</p><p>Create variables to hold the following information. You might want to group some variables together into lists for ease of future access.</p>
<ol type="a">
<li><p style="text-align: justify;">
Total SC, Total WA, Total D
</p></li>
<li><p style="text-align: justify;">
Sick SC, Sick WA, Sick D
</p></li>
<li><p style="text-align: justify;">
Quarantined SC, Quarantined WA, Quarantined D
</p></li>
<li><p style="text-align: justify;">
Dead SC, Dead WA, Dead D
</p></li>
</ol>
<p></p></li>
<li><p style="text-align: justify;">
</p><p>Create variables to hold the following information. You might want to group some variables together into lists for ease of future access.</p>
<ol type="a">
<li><p style="text-align: justify;">
Number of encounters of each group type (SC, WA, and D) each sick individual of each group type (SC, WA, and D) has per day.
</p></li>
<li><p style="text-align: justify;">
Probabilities for each group type (SC, WA, and D) for infection, quarantine, death, and recovery.</p></li>
</ol></li>
</ol>
<p></p>
<ol start="3" type="1">
<li><p style="text-align: justify;">
Create a function that takes in n number of independent trials and p probability that an event happens per trial, then outputs the a random sample of the total number of events that occurred within the n trials. (Hint: You might want to create such shortcuts for other complex operations as well!)
</p></li>
</ol>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> stoc(n,p):</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">#enter your code here</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> <span class="co">#enter your code here</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<section id="simulating-infection" class="level4">
<h4 class="anchored" data-anchor-id="simulating-infection">Simulating Infection</h4>
<p style="text-align: center;">
<img src="Chapter0Media/Exercise_6_Infection.png" width="50%">
</p>
<ol type="1">
<li><p style="text-align: justify;">
</p><p>Create a variable to hold the data for all the newly infected individuals of the day. This should account for all 3 possible categories of sick people.</p>
<p></p></li>
<li><p style="text-align: justify;">
</p><p>Simulate the day of a sick SC.</p>
<ol type="a">
<li><p style="text-align: justify;">
The sick SC interacts with 6 other SC. Calculate the probability that another SC is healthy. Use an RNG to help determine how many of the 6 SC are healthy.
</p></li>
<li><p style="text-align: justify;">
Upon interaction, the healthy SC have a 15% chance of being infected. Use an RNG to help determine how many of the healthy SC are infected. Save the data of newly infected SC.
</p></li>
<li><p style="text-align: justify;">
Repeat (a to b) for WA and D as the interactees.
</p></li>
</ol>
<p></p></li>
<li><p style="text-align: justify;">
</p><p>Repeat (1) for all the other sick SC.</p>
<p></p></li>
<li><p style="text-align: justify;">
</p><p>Repeat (1-2) but for sick WA and sick D.</p>
<p></p></li>
<li><p style="text-align: justify;">
</p><p>Update infection results.</p>
<p></p></li>
</ol>
</section>
</div>
<div id="tabset-6-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-5-tab">
<section id="end-of-day-upkeep" class="level4">
<h4 class="anchored" data-anchor-id="end-of-day-upkeep">End-of-Day Upkeep</h4>
<ol type="1">
<li><p style="text-align: justify;">
</p><p>Simulate the average end of day for sick SCs.</p>
<ol type="a">
<li><p style="text-align: justify;">
The sick SCs have a 10% chance of being quarantined. Use an RNG to help determine how many of the sick SC are quarantined. Save and update the data of newly quarantined SC.
</p></li>
<li><p style="text-align: justify;">
The remaining sick SCs have a 2% chance of dying. Use an RNG to help determine how many of the sick SC dies. Save and update the data of newly dead SC.
</p></li>
<li><p style="text-align: justify;">
The remaining sick SCs have a 5% chance of recovering. Use an RNG to help determine how many of the sick SC recovers. Save and update the data of remaining number of sick SCs.
</p></li>
</ol>
<p></p></li>
<li><p style="text-align: justify;">
</p><p>Repeat (1) but for sick WA and D.</p>
<p></p></li>
</ol>
</section>
</div>
<div id="tabset-6-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-6-tab">
<section id="multiverse-simulation" class="level4">
<h4 class="anchored" data-anchor-id="multiverse-simulation">Multiverse Simulation</h4>
<ol type="1">
<li><p style="text-align: justify;">
Repeat Subtasks (1-3) for 1000 days to make 1 simulation.
</p></li>
<li><p style="text-align: justify;">
Repeat (1) for 100 simulations.
</p></li>
</ol>
</section>
</div>
<div id="tabset-6-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-7-tab">
<section id="plotting" class="level4">
<h4 class="anchored" data-anchor-id="plotting">Plotting</h4>
<p style="text-align: justify;">
Consider possible interesting information you can extract and present it in a graph. For example, you can present how the total number of quarantined people varies at the end of the simulation across all 100 simulations. This sub-task is much more open to interpretation. Investigate your data! Find interesting things about it and share. Perhaps select the first 10 simulations and look at how the simulations went for some inspiration on what is interesting to present.
</p>
</section>
</div>
<div id="tabset-6-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-8-tab">
<ol type="1">
<li><p style="text-align: justify;">
At any point, if you find yourself typing the same code again and again, consider generalising it into a custom function to save yourself the trouble.
</p></li>
<li><p style="text-align: justify;">
When it comes to troubleshooting your code, do consider using the print() function to investigate the variables you are working with. Even if you have a run error, all valid commands before the error will still execute first. Figuring out where the bug occurs will go a long way towards searching for the solution! To further help with this, try segmenting your code so you can test and check each small segment.
</p></li>
<li><p style="text-align: justify;">
Simulations and models are simplified versions of reality made for ease of use. When starting such a coding project, choose important details to prioritise and insignificant details to forgo.
</p></li>
<li><p style="text-align: justify;">
Consider using <a href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.random.html">np.random.random()</a> or <a href="https://www.w3schools.com/python/ref_random_random.asp">random.random()</a> to help with simulating randomness. Please refer to <a href="https://sps.nus.edu.sg/sp2273/random-numbers-need.html">SP2273 notes online</a> for more information.
</p></li>
</ol>
</div>
<div id="tabset-6-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-9-tab">
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> Simulation(Days<span class="op">=</span><span class="dv">1000</span>,T<span class="op">=</span>[<span class="dv">1000</span>,<span class="dv">4000</span>,<span class="dv">1000</span>],S<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>],Q<span class="op">=</span>[<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>],D<span class="op">=</span>[<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>],Encounters<span class="op">=</span>[[<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">1</span>],[<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">1</span>],[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>]],Pinfect<span class="op">=</span>[<span class="fl">0.15</span>,<span class="fl">0.2</span>,<span class="fl">0.25</span>],Pquar<span class="op">=</span>[<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>],Pdie<span class="op">=</span>[<span class="fl">0.02</span>,<span class="fl">0.03</span>,<span class="fl">0.1</span>],Precover<span class="op">=</span>[<span class="fl">0.05</span>,<span class="fl">0.025</span>,<span class="dv">0</span>],Seed<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    np.random.seed(Seed)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    Total<span class="op">=</span>T.copy()</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    Sick<span class="op">=</span>S.copy()</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    Quarantined<span class="op">=</span>Q.copy()</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    Dead<span class="op">=</span>D.copy()</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    Data <span class="op">=</span> [[Total.copy(),Sick.copy(),Quarantined.copy(),Dead.copy()]]</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> a <span class="kw">in</span> <span class="bu">range</span>(Days):</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">#Infection Time</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        NewlySick <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>]</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):                               <span class="co">#for each category of sick people</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(Sick[i]):                     <span class="co">#for each sick person in a category</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> Total[k] <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>                        Healthy_Encounters <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">else</span>:</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>                        Healthy_Encounters <span class="op">=</span> np.<span class="bu">sum</span>(np.random.random(<span class="bu">min</span>([Encounters[i][k],Total[k]])) <span class="op">&lt;</span> ((Total[k]<span class="op">-</span>Sick[k]<span class="op">-</span>NewlySick[k])<span class="op">/</span>(Total[k]<span class="op">-</span><span class="dv">1</span>)))</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>                    New_sick <span class="op">=</span> np.<span class="bu">sum</span>(np.random.random(Healthy_Encounters) <span class="op">&lt;</span> Pinfect[k])</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> (Total[k]<span class="op">-</span>Sick[k]<span class="op">-</span>NewlySick[k]<span class="op">-</span>New_sick) <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>                        New_sick <span class="op">=</span> Total[k]<span class="op">-</span>Sick[k]<span class="op">-</span>NewlySick[k]</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>                    NewlySick[k] <span class="op">=</span> NewlySick[k] <span class="op">+</span> New_sick</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">#Update Infection Results</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>            Sick[i] <span class="op">=</span> Sick[i] <span class="op">+</span> NewlySick[i]</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> Sick[i] <span class="op">&gt;</span> Total[i]:</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>                Sick[i] <span class="op">=</span> Total[i]</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">#End of Day Upkeep</span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>            Nquar <span class="op">=</span> np.<span class="bu">sum</span>(np.random.random(Sick[i]) <span class="op">&lt;</span> Pquar[i])</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>            Sick[i] <span class="op">=</span> Sick[i] <span class="op">-</span> Nquar</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>            Total[i] <span class="op">=</span> Total[i] <span class="op">-</span> Nquar</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>            Quarantined[i] <span class="op">=</span> Quarantined[i] <span class="op">+</span> Nquar</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>            Ndie <span class="op">=</span> np.<span class="bu">sum</span>(np.random.random(Sick[i]) <span class="op">&lt;</span> Pdie[i])</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>            Sick[i] <span class="op">=</span> Sick[i] <span class="op">-</span> Ndie</span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>            Total[i] <span class="op">=</span> Total[i] <span class="op">-</span> Ndie</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>            Dead[i] <span class="op">=</span> Dead[i] <span class="op">+</span> Ndie</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>            Nrec <span class="op">=</span> np.<span class="bu">sum</span>(np.random.random(Sick[i]) <span class="op">&lt;</span> Precover[i])</span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>            Sick[i] <span class="op">=</span> Sick[i] <span class="op">-</span> Nrec</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>        <span class="co">#Record End-Of-Day Results</span></span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>        Data.append([Total.copy(),Sick.copy(),Quarantined.copy(),Dead.copy()])</span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> np.<span class="bu">sum</span>(Total) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> Data</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> np.<span class="bu">sum</span>(Sick) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> Data</span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Data</span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>DATA <span class="op">=</span> []</span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> b <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100</span>):</span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Starting Simulation "</span><span class="op">+</span><span class="bu">str</span>(b<span class="op">+</span><span class="dv">1</span>))</span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>    NewRun<span class="op">=</span>Simulation(Seed<span class="op">=</span>b)</span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>    DATA.append(NewRun)</span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>Final_Deaths <span class="op">=</span> [np.<span class="bu">sum</span>(i[<span class="op">-</span><span class="dv">1</span>][<span class="dv">3</span>]) <span class="cf">for</span> i <span class="kw">in</span> DATA]</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>plt.plot(np.linspace(<span class="dv">0</span>,<span class="bu">len</span>(DATA),<span class="bu">len</span>(DATA)),Final_Deaths)</span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-10" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-10-tab">
<section id="pre-simulation-preparation-1" class="level4">
<h4 class="anchored" data-anchor-id="pre-simulation-preparation-1">1. Pre-simulation Preparation</h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Part 1</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>Total <span class="op">=</span> [<span class="dv">1000</span>,<span class="dv">4000</span>,<span class="dv">1000</span>]  <span class="co">#SC,WA,D</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>Sick <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>]            <span class="co">#SC,WA,D</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>Quarantined <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>]     <span class="co">#SC,WA,D</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>Dead <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>]            <span class="co">#SC,WA,D</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Part 2</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>Encounters <span class="op">=</span> [[<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">1</span>],[<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">1</span>],[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>]]     <span class="co">#Average encounter per category for each category (SC,WA,D)</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>Pinfect <span class="op">=</span> [<span class="fl">0.15</span>,<span class="fl">0.2</span>,<span class="fl">0.25</span>]</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>Pquar <span class="op">=</span> [<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>]</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>Pdie <span class="op">=</span> [<span class="fl">0.02</span>,<span class="fl">0.03</span>,<span class="fl">0.1</span>]</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>Precover <span class="op">=</span> [<span class="fl">0.05</span>,<span class="fl">0.025</span>,<span class="dv">0</span>]</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Part 3</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> stoc(n,p):</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.<span class="bu">sum</span>(np.random.random(n) <span class="op">&lt;</span> p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="simulating-infection-1" class="level4">
<h4 class="anchored" data-anchor-id="simulating-infection-1">2. Simulating Infection</h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#A Sick SC infecting other SCs</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>Encounters_SC <span class="op">=</span> <span class="bu">min</span>([Encounters[<span class="dv">0</span>][<span class="dv">0</span>],Total[<span class="dv">0</span>]<span class="op">-</span><span class="dv">1</span>])   <span class="co">#ie. whichever is lower, the total number of SCs in the population or the expected number of SC encounters</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> Total[<span class="dv">0</span>] <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    P_healthyencounter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    P_healthyencounter <span class="op">=</span> (Total[<span class="dv">0</span>]<span class="op">-</span>Sick[<span class="dv">0</span>])<span class="op">/</span>(Total[<span class="dv">0</span>]<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>Encounters_SC_healthy <span class="op">=</span> stoc(Encounters_SC, P_healthyencounter)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>N_Infected_SC <span class="op">=</span> stoc(Encounters_SC_healthy, Pinfect[<span class="dv">0</span>])</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#A Sick SC Infecting All Groups</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>N_Infected <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>]</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> Total[i] <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>        P_healthyencounter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>        P_healthyencounter <span class="op">=</span> (Total[i]<span class="op">-</span>Sick[i])<span class="op">/</span>(Total[i]<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    Encounters_healthy <span class="op">=</span> stoc(<span class="bu">min</span>([Encounters[<span class="dv">0</span>][i],Total[i]<span class="op">-</span><span class="dv">1</span>]), P_healthyencounter)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    N_Infected[i] <span class="op">=</span> N_Infected[i] <span class="op">+</span> stoc(Encounters_healthy, Pinfect[i])</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co">#All Sick SCs Infecting All Groups</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>N_Infected <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>]</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(Sick[<span class="dv">0</span>]):</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> Total[i] <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>            P_healthyencounter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>            P_healthyencounter <span class="op">=</span> (Total[i]<span class="op">-</span>Sick[i])<span class="op">/</span>(Total[i]<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>        Encounters_healthy <span class="op">=</span> stoc(<span class="bu">min</span>([Encounters[<span class="dv">0</span>][i],Total[i]<span class="op">-</span><span class="dv">1</span>]), P_healthyencounter)</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>        N_Infected[i] <span class="op">=</span> N_Infected[i] <span class="op">+</span> stoc(Encounters_healthy, Pinfect[i])</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a><span class="co">#All Sick Infecting All Groups</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>N_Infected <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>]</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(Sick[k]):</span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> Total[i] <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a>                P_healthyencounter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a>                P_healthyencounter <span class="op">=</span> (Total[i]<span class="op">-</span>Sick[i])<span class="op">/</span>(Total[i]<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a>            Encounters_healthy <span class="op">=</span> stoc(<span class="bu">min</span>([Encounters[k][i],Total[i]<span class="op">-</span><span class="dv">1</span>]), P_healthyencounter)</span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a>            N_Infected[i] <span class="op">=</span> N_Infected[i] <span class="op">+</span> stoc(Encounters_healthy, Pinfect[i])</span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a><span class="co">#Updating Infection Results            </span></span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> l <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a>    Sick[l] <span class="op">=</span> Sick[l] <span class="op">+</span> N_Infected[l]</span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> Sick[l] <span class="op">&gt;</span> Total[l]:</span>
<span id="cb25-47"><a href="#cb25-47" aria-hidden="true" tabindex="-1"></a>        Sick[l] <span class="op">=</span> Total[l]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="end-of-day-upkeep-1" class="level4">
<h4 class="anchored" data-anchor-id="end-of-day-upkeep-1">3. End-of-Day Upkeep</h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Quarantine</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    N_Quarantined <span class="op">=</span> stoc(Sick[i], Pquar[i])</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    Sick[i] <span class="op">=</span> Sick[i] <span class="op">-</span> N_Quarantined</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    Total[i] <span class="op">=</span> Total[i] <span class="op">-</span> N_Quarantined</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    Quarantined[i] <span class="op">=</span> Quarantined[i] <span class="op">+</span> N_Quarantined</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Death</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    N_Dead <span class="op">=</span> stoc(Sick[i], Pdie[i])</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    Sick[i] <span class="op">=</span> Sick[i] <span class="op">-</span> N_Dead</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    Total[i] <span class="op">=</span> Total[i] <span class="op">-</span> N_Dead</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    Dead[i] <span class="op">=</span> Dead[i] <span class="op">+</span> N_Dead</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Recovery</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>    N_Recover <span class="op">=</span> stoc(Sick[i], Precover[i])</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>    Sick[i] <span class="op">=</span> Sick[i] <span class="op">-</span> N_Recover</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="multiverse-simulation-1" class="level4">
<h4 class="anchored" data-anchor-id="multiverse-simulation-1">4. Multiverse Simulation</h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#To make 1 Simulation:</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Enter Subtask 1 Code here</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Enter Subtask 1 Code above</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [[Total.copy(),Sick.copy(),Quarantined.copy(),Dead.copy()]]</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> a <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Enter Subtask (2-3) Code here</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Enter Subtaks (2-3) Code above</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    data.append([Total.copy(),Sick.copy(),Quarantined.copy(),Dead.copy()])</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co">#To make 100 Simulations:</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>DATA <span class="op">=</span> []</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> b <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100</span>):</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Enter 1 Simulation Code here</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Enter 1 Simulation Code above</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    DATA.append(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="present-information-into-a-graph" class="level4">
<h4 class="anchored" data-anchor-id="present-information-into-a-graph">5. Present Information into a Graph</h4>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#To obtain data for the first 10 simulations</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>status <span class="op">=</span> [<span class="st">"Total Population"</span>, <span class="st">"Sick Population"</span>, <span class="st">"Quarantined Population"</span>, <span class="st">"Dead Population"</span>]</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">"School Children"</span>, <span class="st">"Working Adults"</span>, <span class="st">"Dependents"</span>, <span class="st">"All Groups"</span>]</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    fig, ax <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">2</span>,ncols<span class="op">=</span><span class="dv">2</span>,figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">10</span>))</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    fig.suptitle(<span class="st">"Simulation "</span><span class="op">+</span><span class="bu">str</span>(i<span class="op">+</span><span class="dv">1</span>), y<span class="op">=</span><span class="fl">0.93</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> a <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> b <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>            ax[a,b].set_title(names[a<span class="op">*</span><span class="dv">2</span><span class="op">+</span>b])</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (a<span class="op">*</span><span class="dv">2</span><span class="op">+</span>b) <span class="op">!=</span> <span class="dv">3</span>:</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> c <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>):</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>                    ax[a,b].plot(np.linspace(<span class="dv">0</span>,<span class="bu">len</span>(DATA[i]),<span class="bu">len</span>(DATA[i])),[j[c][a<span class="op">*</span><span class="dv">2</span><span class="op">+</span>b] <span class="cf">for</span> j <span class="kw">in</span> DATA[i]],label<span class="op">=</span>status[c])</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> (a<span class="op">*</span><span class="dv">2</span><span class="op">+</span>b) <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> c <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>):</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>                    ax[a,b].plot(np.linspace(<span class="dv">0</span>,<span class="bu">len</span>(DATA[i]),<span class="bu">len</span>(DATA[i])),[<span class="bu">sum</span>(j[c]) <span class="cf">for</span> j <span class="kw">in</span> DATA[i]],label<span class="op">=</span>status[c])</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>            ax[a,b].legend()</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p style="text-align: justify;">
Now that you can see how the first 10 simulations go, you can find something to investigate. You could investigate how randomness affects run-to-run variability, in terms of runtime, or peak infection rate, or final death rate, etc. The (simulated) world is your oyster!
</p>
</section>
</div>
</div>
</div>
</section>
<section id="exercise-7" class="level3">
<h3 class="anchored" data-anchor-id="exercise-7">3.7 Exercise 7</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true" href="">Problem</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false" href="">What are Bezier Curves?</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false" href="">A Possible Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<section id="drawing-a-plan" class="level4">
<h4 class="anchored" data-anchor-id="drawing-a-plan">Drawing A Plan</h4>
<p style="text-align: justify;">
In example 6, we have exercised the breaking up of a big project into multiple small projects to work on. Now, plan out the breaking down of this big project yourself: Create a function that can make a Bezier curve of any power, using iterative linear interpolations.
</p>
</section>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<p style="text-align: justify;">
To understand Bezier curves, we must first understand linear interpolations, or lerp for short. In our context, a lerp occurs between two anchor points and forms a straight line between them, made of n evenly spaced points. We can assign all points on the line a unique t value, ranging between 0 and 1, such that a t-value of 0 will be equal to the first anchor point, and a t-value of 1 equals the second anchor point. A lerp is also a power 1 (linear) Bezier curve.
</p>
<p style="text-align: justify;">
Subsequent powers of Bezier curves require iterative lerps. For a power 2 (quadratic) Bezier curve, we require 3 anchor points. Next, perform a lerp between each neighbouring point (anchor point 1 with anchor point 2, then anchor point 2 with anchor point 3). This creates two lines (line_1 and line_2). Then, for each point on line_1 and line_2 with the same t value, we can perform another lerp (line_final). Then, we can find the point on line_final with the same t value. That point will be the point on the quadratic bezier curve with the same t-value. Repeat this procedure for all the different possible t values and the final quadratic bezier curve will be formed.
</p>
<p style="text-align: justify;">
In a similar vein, a power 3 (cubic) Bezier curve requires 4 points. Make a lerp between points 1 and 2, 2 and 3, and 3 and 4, called line_1, line_2, and line_3 respectively. The coordinates on the final cubic Bezier curve with a certain t value is equal to the point with the same t value on the quadratic Bezier curve made from the points with the same t value in line_1, line_2, and line_3.
</p>
<p style="text-align: justify;">
As you can guess, higher powers of Bezier curves are essentially made from strategic points chosen from many lower power Bezier curves. Consider referring to this <a href="https://youtu.be/aVwxzDHniEw?t=116">exposé on Bezier curves</a> for more clarity on what a Bezier curve is. You are advised to intepret this problem as coding out De Casteljau’s algorithm from scratch (simple numpy and matplotlib.pyplot functions are allowed).
</p>
<p style="text-align: center;">
<img src="Chapter0Media/bezier_example.png" width="70%">
</p>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> bezier(p,l,graph<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>      <span class="co">'''</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">      This is a slow, iterative function to make Bezier curves of any power.</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">      The function bezier(p,l,graph=True) returns [list_of_x_values,list_of_y_values] as output</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">        p = the list of anchor points</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">        l = the number of points that make up the final Bezier Curve (the "resolution")</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">        graph = A Boolean which performs a simple plt.plot(x,y) for the final curve. Consider setting graph=False and performing your own graphing for more intricate plots.</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">      '''</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>      eq <span class="op">=</span> []</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> a <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(p)):</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> a <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>              <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(p)<span class="op">-</span><span class="dv">1</span>):</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>                  x <span class="op">=</span> np.linspace(p[i][<span class="dv">0</span>],p[i<span class="op">+</span><span class="dv">1</span>][<span class="dv">0</span>],l)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>                  y <span class="op">=</span> np.linspace(p[i][<span class="dv">1</span>],p[i<span class="op">+</span><span class="dv">1</span>][<span class="dv">1</span>],l)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>                  eq.append([x,y])</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>          <span class="cf">elif</span> a <span class="op">&lt;</span> <span class="bu">len</span>(p)<span class="op">-</span><span class="dv">1</span>:</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>              eq2s <span class="op">=</span> []</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>              <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(p)<span class="op">-</span>(a<span class="op">+</span><span class="dv">1</span>)):</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>                  xn <span class="op">=</span> []</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>                  yn <span class="op">=</span> []</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(l):</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>                      xn.append((eq[i<span class="op">+</span><span class="dv">1</span>][<span class="dv">0</span>][j]<span class="op">-</span>eq[i][<span class="dv">0</span>][j])<span class="op">/</span>l<span class="op">*</span>j<span class="op">+</span>eq[i][<span class="dv">0</span>][j])</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>                      yn.append((eq[i<span class="op">+</span><span class="dv">1</span>][<span class="dv">1</span>][j]<span class="op">-</span>eq[i][<span class="dv">1</span>][j])<span class="op">/</span>l<span class="op">*</span>j<span class="op">+</span>eq[i][<span class="dv">1</span>][j])</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>                  eq2s.append([xn,yn])</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>              eq <span class="op">=</span> eq2s</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>          <span class="cf">elif</span> a <span class="op">==</span> <span class="bu">len</span>(p)<span class="op">-</span><span class="dv">1</span>:</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> graph <span class="op">==</span> <span class="va">True</span>:</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>                  plt.plot(eq[<span class="dv">0</span>][<span class="dv">0</span>],eq[<span class="dv">0</span>][<span class="dv">1</span>])</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>              <span class="cf">return</span> [eq[<span class="dv">0</span>][<span class="dv">0</span>],eq[<span class="dv">0</span>][<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>